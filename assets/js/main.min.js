var $app={},user=detect.parse(navigator.userAgent),lazy,window_w=$(window).width(),emailCheck=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,phoneCheck=/^-{0,1}\d*\.{0,1}\d+$/,msg={signin_fail:"ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง กรุณาลองใหม่อีกครั้ง",email:"กรุณาใส่อีเมล์",email_invalid:"กรุณาใส่อีเมล์ให้ถูกต้อง",email_duplicate:"ขออภัยอีเมลนี้ถูกใช้งานแล้ว",password:"กรุณาใส่รหัสผ่าน",password_min:"กรุณาใส่รหัสผ่านอย่างน้อย 8 ตัวอักษร",password_confirm:"กรุณายืนยันรหัสผ่าน",password_match:"กรุณายืนยันรหัสผ่านให้ตรงกัน",name:"กรุณาใส่ชื่อ",firstname:"กรุณาใส่ชื่อ",lastname:"กรุณาใส่นามสกุล",gender:"กรุณาเลือกเพศ",birthday:"กรุณาเลือก",idcard:"กรุณาใส่หมายเลขประจำตัวประชาชน",idcard_limit:"กรุณาใส่รหัสประจำตัวประชาชนให้ครบ 13 หลัก",idcard_invalid:"กรุณาใส่รหัสประจำตัวประชาชนให้ถูกต้อง",passport:"กรุณาใส่เลขทีหนังสือเดินทาง",telephone:"กรุณาใส่เบอร์โทรศัพท์",telephone_invalid:"กรุณาใส่เบอร์โทรศัพท์ด้วยตัวเลขเท่านั้น",telephone_limit:"กรุณาใส่เบอร์โทรศัพท์ให้ครบถ้วน",address:"กรุณาใส่ที่อยุ่",country:"กรุณาเลือกประเทศ",district:"กรุณาใส่ตำบล/แขวง",amphoe:"กรุณาเลือกอำเภอ/เขต",province:"กรุณาเลือกจังหวัด",zipcode:"กรุณาใส่รหัสไปรษณีย์",zipcode_invalid:"กรุณาใส่รหัสไปรษณีย์ด้วยตัวเลขเท่านั้น",terms:"กรุณายอมรับเงื่อนไขการใช้บริการ",captcha:"กรุณาระบุตัวตน",date:"วัน",month:"เดือน",year:"ปี"};$(function(){$app.check.init(),$app.global.init()}),$(window).on("load",function(){$("html").addClass("isLoaded")}),$app.check={init:function(){},ie:function(){return"IE"==user.browser.family&&user.browser.major<11},safari:function(){return"Desktop"==user.device.type&&"Safari"==user.browser.family&&user.browser.major<12},scroll:function(){$(window).scrollTop()>=window_w/2?$(".main-header").addClass("fixed"):$(".main-header").removeClass("fixed")},skipGender:skipGender=!1,skipDOB:skipDOB=!1,skipIDcard:skipIDcard=!1,skipAddress:skipAddress=!1,countryTH:countryTH=!0},$app.global={init:function(){lazy=$(".lazy").lazy({visibleOnly:!0,chainable:!1})},scroll:function(){$app.check.scroll(),$(window).on("scroll",$app.check.scroll)}},$app.detail={init:function(){var a=$(".e-detail").height();$app.global.scroll(),a>=600?$(".btn-more").show():$(".btn-more").hide(),$(".btn-more").on("click",function(){$(".e-detail-container").addClass("h-auto"),$(this).remove()}),$(".e-text-editor table").each(function(){$(this).wrap('<div class="table-responsive"></div>')})}},$app.dialog={open:function(a){$(a).show(0).addClass("show")},close:function(){$(".dialog").removeClass("show").delay(500).hide(0)},custom:function(a,t,e,i){switch($.fancybox.close(),a){case"success":$.fancybox.open('<div class="dialog-msg"><i class="fa fa-check-circle fa-3x text-success" aria-hidden="true"></i><h2>'+t+'</h2><p class="text-muted">'+e+'</p><p><button type="button" class="btn btn-block btn-light-link btn-md" onclick="$.fancybox.close();">'+i+"</button></p></div>");break;case"fail":$.fancybox.open('<div class="dialog-msg"><i class="fa fa-exclamation-circle fa-3x text-danger" aria-hidden="true"></i><h2>'+t+'</h2><p class="text-muted">'+e+'</p><p><button type="button" class="btn btn-block btn-light-link btn-md" onclick="location.reload();">'+i+"</button></p></div>")}}},$app.search={open:function(){$(".main-header").addClass("show-search"),$("#input-search").focus()},close:function(){$(".main-header").removeClass("show-search")}},$app.form={check:function(a,t){a.parents("form").find(".text-alert").hide(),a.parents("form").find(".is-invalid").removeClass("is-invalid"),a.addClass("is-invalid").focus(),a.next(".text-alert").text(t).show()},check2:function(a,t){a.parents("form").find(".text-alert").hide(),a.parents("form").find(".is-invalid").removeClass("is-invalid"),a.addClass("is-invalid").focus(),a.parent("*").find(".text-alert").text(t).show()},clear:function(a){$(a+" .text-alert").hide(),$(a+" .is-invalid").removeClass("is-invalid")}},$app.fn={goto:function(a,t){""==t&&(t=0),$("html,body").animate({scrollTop:$(a).offset().top-t},600,"swing")},getCountry:function(country){var lang=$("#lang").val();if(""==country||void 0==country)var $country="TH";else var $country=country;$.post("https://booking.thaiticketmajor.com/tickets/getcountry.ajax.php?lang="+lang,function(data){$("#country").append(data).addClass("active"),$("#country").val("TH"),$.post("https://booking.thaiticketmajor.com/tickets/getstate.ajax.php?lang="+lang+"&value="+$country,function(data,status){var re=eval("("+data+")");$("#province").html(re.pages).addClass("active"),$("#province option[value='000']").html("กรุณาเลือก")})})},getProvince:function(){window.focus(),$("#zipcode").val("");var value=$("#country").val(),lang=$("#lang").val();"TH"===value?($(".row-state").show(),$app.check.countryTH=!0):($(".row-state").hide(),$app.check.countryTH=!1);var url="https://booking.thaiticketmajor.com/tickets/getstate.ajax.php?lang="+lang+"&value="+value;$.post(url,function(data,status){var re=eval("("+data+")");$("#province").html(re.pages).addClass("active"),$("#province option[value='000']").html("กรุณาเลือก"),"000"===value&&$("#province").html('<option value="000">กรุณาเลือก</option>').removeClass("active")});var url_2="https://booking.thaiticketmajor.com/tickets/getcity.ajax.php?mode=2&lang="+lang+"&value="+value;return $.post(url_2,function(data,status){var re=eval("("+data+")");$("#district").html(re.pages).addClass("active"),$("#district option[value='000']").html("กรุณาเลือก"),"000"===value&&$("#district").html('<option value="000">กรุณาเลือก</option>').removeClass("active")}),!1},getCity:function(){window.focus();var value=$("#province").val(),lang=$("#lang").val(),url="https://booking.thaiticketmajor.com/tickets/getcity.ajax.php?mode=1&lang="+lang+"&value="+value;return $.post(url,function(data,status){var re=eval("("+data+")");$("#district").html(re.pages).addClass("active"),$("#district option[value='000']").html(msg.amphoe),"000"===value&&$("#district").html('<option value="000">'+msg.amphoe+"</option>").removeClass("active")}),!1},checkIDCard:function(a){for(i=0,sum=0;i<12;i++)sum+=parseFloat(a.charAt(i))*(13-i);return(11-sum%11)%10==parseFloat(a.charAt(12))}};